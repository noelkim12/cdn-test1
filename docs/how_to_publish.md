# NPM ë°°í¬ ê°€ì´ë“œ

ì´ ë¬¸ì„œëŠ” `${í”„ë¡œì íŠ¸ëª…}` í”„ë¡œì íŠ¸ë¥¼ npmì— ë°°í¬í•˜ëŠ” ì „ì²´ ê³¼ì •ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

1. [ì‚¬ì „ ì¤€ë¹„](#ì‚¬ì „-ì¤€ë¹„)
2. [ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸](#ë°°í¬-ì „-ì²´í¬ë¦¬ìŠ¤íŠ¸)
3. [ë°°í¬ í”„ë¡œì„¸ìŠ¤](#ë°°í¬-í”„ë¡œì„¸ìŠ¤)
4. [ë°°í¬ í›„ í™•ì¸](#ë°°í¬-í›„-í™•ì¸)
5. [ë²„ì „ ì—…ë°ì´íŠ¸](#ë²„ì „-ì—…ë°ì´íŠ¸)
6. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

---

## ğŸ”§ ì‚¬ì „ ì¤€ë¹„

### 1. NPM ê³„ì • ì„¤ì •

npm ê³„ì •ì´ ì—†ë‹¤ë©´ ë¨¼ì € ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
# npm ê³„ì • ìƒì„± (ì›¹ì‚¬ì´íŠ¸ì—ì„œë„ ê°€ëŠ¥)
npm adduser
```

ê³„ì •ì´ ì´ë¯¸ ìˆë‹¤ë©´ ë¡œê·¸ì¸í•©ë‹ˆë‹¤:

```bash
# npm ë¡œê·¸ì¸
npm login

# ë¡œê·¸ì¸ í™•ì¸
npm whoami
```

### 2. Organization ì„¤ì •

ì´ í”„ë¡œì íŠ¸ëŠ” ê°œì¸ íŒ¨í‚¤ì§€ë¡œ ë°°í¬ë©ë‹ˆë‹¤. (`${í”„ë¡œì íŠ¸ëª…}`)

ë§Œì•½ organization scopeë¥¼ ì‚¬ìš©í•˜ë ¤ë©´:
- npm ì›¹ì‚¬ì´íŠ¸ì—ì„œ organization ìƒì„±: https://www.npmjs.com/org/create
- `package.json`ì˜ `name`ì„ `@organization-name/package-name` í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”

### 3. í•„ìš”í•œ ë„êµ¬ í™•ì¸

```bash
# Node.js ë²„ì „ í™•ì¸ (14.0.0 ì´ìƒ í•„ìš”)
node --version

# npm ë²„ì „ í™•ì¸ (6.0.0 ì´ìƒ í•„ìš”)
npm --version
```

---

## âœ… ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1. package.json í™•ì¸

í˜„ì¬ ì„¤ì •ëœ ì£¼ìš” í•„ë“œë“¤:

```json
{
  "name": "${í”„ë¡œì íŠ¸ëª…}",                     // íŒ¨í‚¤ì§€ ì´ë¦„
  "version": "0.1.0",                      // í˜„ì¬ ë²„ì „
  "description": "${í”„ë¡œì íŠ¸ëª…} for RISU AI", // íŒ¨í‚¤ì§€ ì„¤ëª…
  "main": "src/index.js",                  // CommonJS ì§„ì…ì 
  "browser": "dist/${í”„ë¡œì íŠ¸ëª…}.js",          // ë¸Œë¼ìš°ì € ì§„ì…ì 
  "unpkg": "dist/${í”„ë¡œì íŠ¸ëª…}.js",            // CDN ì§„ì…ì 
  "files": ["dist"],                       // ë°°í¬í•  íŒŒì¼/í´ë”
  "publishConfig": {
    "access": "public"                     // ê³µê°œ íŒ¨í‚¤ì§€
  }
}
```

**ì¤‘ìš”**: `files` í•„ë“œì— `"dist"`ë§Œ í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, `dist` í´ë”ë§Œ npmì— ë°°í¬ë©ë‹ˆë‹¤.

### 2. ë¹Œë“œ í…ŒìŠ¤íŠ¸

ë°°í¬ ì „ì— ë¹Œë“œê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤:

```bash
# í”„ë¡œë•ì…˜ ë¹Œë“œ ì‹¤í–‰
npm run build

# dist í´ë” í™•ì¸
ls -la dist/
```

**ì˜ˆìƒ ê²°ê³¼**: `dist/${í”„ë¡œì íŠ¸ëª…}.js` íŒŒì¼ì´ ìƒì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

### 3. .gitignoreì™€ .npmignore í™•ì¸

**.gitignore**ëŠ” Gitì— í¬í•¨í•˜ì§€ ì•Šì„ íŒŒì¼ì„ ì§€ì •í•©ë‹ˆë‹¤.
**.npmignore**ê°€ ì—†ë‹¤ë©´ `.gitignore`ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ, `files` í•„ë“œê°€ ë” ìš°ì„ ìˆœìœ„ê°€ ë†’ìŠµë‹ˆë‹¤.

í˜„ì¬ ì„¤ì •ì—ì„œëŠ” `files: ["dist"]`ë¡œ ì¸í•´ `dist` í´ë”ë§Œ ë°°í¬ë˜ë¯€ë¡œ ì¶”ê°€ ì„¤ì •ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤.

---

## ğŸš€ ë°°í¬ í”„ë¡œì„¸ìŠ¤

### ë‹¨ê³„ë³„ ë°°í¬ ëª…ë ¹ì–´

```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜ í™•ì¸
npm install

# 2. ë¹Œë“œ ì‹¤í–‰ (prepublishOnly ìŠ¤í¬ë¦½íŠ¸ë¡œ ìë™ ì‹¤í–‰ë˜ì§€ë§Œ ìˆ˜ë™ í™•ì¸ ê¶Œì¥)
npm run build

# 3. íŒ¨í‚¤ì§€ ë‚´ìš© ë¯¸ë¦¬ë³´ê¸° (ë°°í¬ë  íŒŒì¼ í™•ì¸)
npm pack --dry-run

# 4. ì‹¤ì œ íŒ¨í‚¤ì§€ íŒŒì¼ ìƒì„± (ì„ íƒì‚¬í•­, í…ŒìŠ¤íŠ¸ìš©)
npm pack

# 5. npm ë°°í¬ (ì‹¤ì œ ë°°í¬)
npm publish
```

### prepublishOnly í›…

`package.json`ì— ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ê°€ ì„¤ì •ë˜ì–´ ìˆì–´ `npm publish` ì‹œ ìë™ìœ¼ë¡œ ë¹Œë“œë©ë‹ˆë‹¤:

```json
"scripts": {
  "prepublishOnly": "npm run build"
}
```

ì´ë¡œ ì¸í•´ ë°°í¬ ì „ì— í•­ìƒ ìµœì‹  ë¹Œë“œê°€ ìƒì„±ë©ë‹ˆë‹¤.

---

## ğŸ” ë°°í¬ í›„ í™•ì¸

### 1. npm ì›¹ì‚¬ì´íŠ¸ì—ì„œ í™•ì¸

ë°°í¬ í›„ 1~2ë¶„ ë‚´ì— ë‹¤ìŒ URLì—ì„œ íŒ¨í‚¤ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
https://www.npmjs.com/package/${í”„ë¡œì íŠ¸ëª…}
```

### 2. CDN ë§í¬ í™•ì¸

unpkg CDNì„ í†µí•´ ë°°í¬ëœ íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
https://unpkg.com/${í”„ë¡œì íŠ¸ëª…}@latest/dist/${í”„ë¡œì íŠ¸ëª…}.js
https://unpkg.com/${í”„ë¡œì íŠ¸ëª…}@0.1.0/dist/${í”„ë¡œì íŠ¸ëª…}.js
```

### 3. ì„¤ì¹˜ í…ŒìŠ¤íŠ¸

ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ì„¤ì¹˜í•˜ì—¬ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤:

```bash
# ìƒˆ í”„ë¡œì íŠ¸ì—ì„œ ì„¤ì¹˜
npm install ${í”„ë¡œì íŠ¸ëª…}

# ë˜ëŠ” ì „ì—­ ì„¤ì¹˜
npm install -g ${í”„ë¡œì íŠ¸ëª…}
```

### 4. HTMLì—ì„œ CDN ì‚¬ìš© ì˜ˆì‹œ

```html
<!DOCTYPE html>
<html>
<head>
  <title>CDN Test</title>
</head>
<body>
  <h1>${í”„ë¡œì íŠ¸ëª…} ë¡œë”© í…ŒìŠ¤íŠ¸</h1>

  <script src="https://unpkg.com/${í”„ë¡œì íŠ¸ëª…}@latest/dist/${í”„ë¡œì íŠ¸ëª…}.js"></script>
  <script>
    // ì „ì—­ ë³€ìˆ˜ cdnTest1 ì‚¬ìš©
    console.log('cdnTest1:', cdnTest1);
  </script>
</body>
</html>
```

---

## ğŸ”„ ë²„ì „ ì—…ë°ì´íŠ¸

### Semantic Versioning (SemVer) ê·œì¹™

ë²„ì „ í˜•ì‹: `MAJOR.MINOR.PATCH` (ì˜ˆ: `0.1.0`)

- **MAJOR**: í˜¸í™˜ë˜ì§€ ì•ŠëŠ” API ë³€ê²½
- **MINOR**: í•˜ìœ„ í˜¸í™˜ë˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€
- **PATCH**: í•˜ìœ„ í˜¸í™˜ë˜ëŠ” ë²„ê·¸ ìˆ˜ì •

### npm version ëª…ë ¹ì–´

```bash
# íŒ¨ì¹˜ ë²„ì „ ì¦ê°€ (0.1.0 â†’ 0.1.1)
npm version patch

# ë§ˆì´ë„ˆ ë²„ì „ ì¦ê°€ (0.1.0 â†’ 0.2.0)
npm version minor

# ë©”ì´ì € ë²„ì „ ì¦ê°€ (0.1.0 â†’ 1.0.0)
npm version major

# ì§ì ‘ ë²„ì „ ì§€ì •
npm version 0.2.0
```

`npm version` ëª…ë ¹ì–´ëŠ” ë‹¤ìŒì„ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤:
1. `package.json`ì˜ `version` í•„ë“œ ì—…ë°ì´íŠ¸
2. Git ì»¤ë°‹ ìƒì„± (ë©”ì‹œì§€: `v0.2.0`)
3. Git íƒœê·¸ ìƒì„± (`v0.2.0`)

### ë²„ì „ ì—…ë°ì´íŠ¸ í›„ ë°°í¬

```bash
# 1. ë²„ì „ ì—…ë°ì´íŠ¸
npm version patch

# 2. Gitì— í‘¸ì‹œ (íƒœê·¸ í¬í•¨)
git push && git push --tags

# 3. npm ë°°í¬
npm publish
```

### ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ì‘ì„± ë°©ë²•

#### npm version ëª…ë ¹ì–´ì— ë©”ì‹œì§€ ì¶”ê°€

ë²„ì „ ì—…ë°ì´íŠ¸ ì‹œ Git ì»¤ë°‹ ë©”ì‹œì§€ì— ë³€ê²½ ì‚¬í•­ì„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# íŒ¨ì¹˜ ë¦´ë¦¬ì¦ˆ with ë©”ì‹œì§€
npm version patch -m "v%s - ë²„ê·¸ ìˆ˜ì •: ë¡œê·¸ì¸ ì—ëŸ¬ í•´ê²°"

# ë§ˆì´ë„ˆ ë¦´ë¦¬ì¦ˆ with ë©”ì‹œì§€
npm version minor -m "v%s - ìƒˆ ê¸°ëŠ¥: ë‹¤í¬ëª¨ë“œ ì§€ì› ì¶”ê°€"

# ë©”ì´ì € ë¦´ë¦¬ì¦ˆ with ë©”ì‹œì§€
npm version major -m "v%s - Breaking Change: API êµ¬ì¡° ë³€ê²½"
```

`%s`ëŠ” ìë™ìœ¼ë¡œ ìƒˆ ë²„ì „ ë²ˆí˜¸ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤ (ì˜ˆ: `v0.2.0`)

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### 1. ê¶Œí•œ ì˜¤ë¥˜

```
npm ERR! code E403
npm ERR! 403 Forbidden
```

**í•´ê²°ë°©ë²•**:
```bash
# ë¡œê·¸ì¸ í™•ì¸
npm whoami

# ì¬ë¡œê·¸ì¸
npm logout
npm login

# ê°œì¸ íŒ¨í‚¤ì§€ì˜ ê²½ìš° ìì‹ ì˜ ê³„ì •ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥
# organization íŒ¨í‚¤ì§€ì˜ ê²½ìš° í•´ë‹¹ organizationì˜ ë©¤ë²„ì—¬ì•¼ í•©ë‹ˆë‹¤
```

### 2. ì¤‘ë³µ ë²„ì „ ì˜¤ë¥˜

```
npm ERR! code E409
npm ERR! 409 Conflict - PUT https://registry.npmjs.org/${í”„ë¡œì íŠ¸ëª…}
```

**í•´ê²°ë°©ë²•**:
```bash
# ë²„ì „ ì¦ê°€
npm version patch

# ë‹¤ì‹œ ë°°í¬
npm publish
```

### 3. ë¹Œë“œ íŒŒì¼ì´ ì—†ìŒ

```
npm ERR! This package has been marked as private
```

**í•´ê²°ë°©ë²•**:
```bash
# ë¹Œë“œ ì‹¤í–‰
npm run build

# dist í´ë” í™•ì¸
ls -la dist/

# ë‹¤ì‹œ ë°°í¬
npm publish
```

### 4. ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜

```
npm ERR! network request to https://registry.npmjs.org failed
```

**í•´ê²°ë°©ë²•**:
```bash
# npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ í™•ì¸
npm config get registry

# ê¸°ë³¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¡œ ì„¤ì •
npm config set registry https://registry.npmjs.org/

# ìºì‹œ ì •ë¦¬
npm cache clean --force
```

### 5. 2FA (Two-Factor Authentication) ì˜¤ë¥˜

npmì—ì„œ 2FAë¥¼ í™œì„±í™”í•œ ê²½ìš°:

```bash
# OTP ì½”ë“œì™€ í•¨ê»˜ ë°°í¬
npm publish --otp=123456
```

---

## ğŸ“ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

ë°°í¬í•˜ê¸° ì „ì— ë‹¤ìŒ í•­ëª©ë“¤ì„ í™•ì¸í•˜ì„¸ìš”:

- [ ] npm ë¡œê·¸ì¸ ì™„ë£Œ (`npm whoami`)
- [ ] `package.json` ë²„ì „ í™•ì¸ ë° ì—…ë°ì´íŠ¸
- [ ] ë¹Œë“œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ (`npm run build`)
- [ ] `dist/${í”„ë¡œì íŠ¸ëª…}.js` íŒŒì¼ ìƒì„± í™•ì¸
- [ ] Git ì»¤ë°‹ ë° í‘¸ì‹œ ì™„ë£Œ
- [ ] README.md ì—…ë°ì´íŠ¸ (í•„ìš”í•œ ê²½ìš°)
- [ ] CHANGELOG ì—…ë°ì´íŠ¸ (í•„ìš”í•œ ê²½ìš°)
- [ ] npm publish ì‹¤í–‰
- [ ] npm ì›¹ì‚¬ì´íŠ¸ì—ì„œ íŒ¨í‚¤ì§€ í™•ì¸
- [ ] CDN ë§í¬ í…ŒìŠ¤íŠ¸

---

## ğŸ¯ ë¹ ë¥¸ ë°°í¬ ì›Œí¬í”Œë¡œìš°

ì¼ë°˜ì ì¸ ë°°í¬ í”„ë¡œì„¸ìŠ¤ë¥¼ í•œ ë²ˆì— ì‹¤í–‰:

```bash
# 1. ì½”ë“œ ë³€ê²½ ë° ì»¤ë°‹
git add .
git commit -m "feat: add new feature"

# 2. ë²„ì „ ì—…ë°ì´íŠ¸ (ìë™ ì»¤ë°‹ ë° íƒœê·¸)
npm version patch

# 3. Git í‘¸ì‹œ
git push && git push --tags

# 4. ë¹Œë“œ ë° ë°°í¬ (prepublishOnlyê°€ ìë™ìœ¼ë¡œ ë¹Œë“œ ì‹¤í–‰)
npm publish

# 5. ë°°í¬ í™•ì¸
echo "Check: https://www.npmjs.com/package/${í”„ë¡œì íŠ¸ëª…}"
```

---

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- [npm ê³µì‹ ë¬¸ì„œ](https://docs.npmjs.com/)
- [Semantic Versioning](https://semver.org/)
- [package.json í•„ë“œ ì„¤ëª…](https://docs.npmjs.com/cli/v9/configuring-npm/package-json)
- [npm publish ê°€ì´ë“œ](https://docs.npmjs.com/cli/v9/commands/npm-publish)
- [unpkg CDN ë¬¸ì„œ](https://unpkg.com/)

---

## ğŸ“§ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ GitHub Issuesë¥¼ ì´ìš©í•´ì£¼ì„¸ìš”.
