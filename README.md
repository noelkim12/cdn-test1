# RISU PLUGIN SCAFFOLD

## package.json ì‘ì„± ìš”ë ¹

### ê¸°ë³¸ êµ¬ì¡°
```json
{
  "name": "í”„ë¡œì íŠ¸ëª…",           // kebab-case ê¶Œì¥ (ì˜ˆ: risu-typewrite)
  "version": "0.1.0",           // ì‹œë§¨í‹± ë²„ì €ë‹ (major.minor.patch)
  "description": "í”„ë¡œì íŠ¸ ì„¤ëª…", // í•œ ì¤„ë¡œ ê°„ë‹¨ëª…ë£Œí•˜ê²Œ
  "main": "src/index.js",       // ì§„ì…ì  íŒŒì¼
  "scripts": {                  // npm ìŠ¤í¬ë¦½íŠ¸ ì •ì˜
    "dev": "webpack --mode production --watch",
    "build": "webpack --mode production",
    "build:dev": "webpack --mode development"
  },
  "devDependencies": {          // ê°œë°œ ì˜ì¡´ì„±
    "webpack": "^5.88.0",
    "webpack-cli": "^5.1.4",
    "terser-webpack-plugin": "^5.3.9"
  }
}
```

### ì£¼ìš” í•„ë“œ ì„¤ëª…
- **name**: í”„ë¡œì íŠ¸ëª… (npmì— ë°°í¬ ì‹œ ê³ ìœ í•´ì•¼ í•¨)
- **version**: ë²„ì „ ë²ˆí˜¸ (ì‹œë§¨í‹± ë²„ì €ë‹ ê¶Œì¥)
- **description**: í”„ë¡œì íŠ¸ ì„¤ëª… (npm ê²€ìƒ‰ì— ì‚¬ìš©ë¨)
- **main**: ì§„ì…ì  íŒŒì¼ ê²½ë¡œ
- **scripts**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ë‹¨ì¶•ì–´ë¡œ ì •ì˜
- **devDependencies**: ê°œë°œ ì‹œì—ë§Œ í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤
- **dependencies**: í”„ë¡œë•ì…˜ì—ì„œë„ í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤

### ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ê·œì¹™
```json
{
  "scripts": {
    "dev": "ê°œë°œìš© ëª…ë ¹ì–´",           // ê°œë°œ ëª¨ë“œ
    "build": "ë¹Œë“œ ëª…ë ¹ì–´",           // í”„ë¡œë•ì…˜ ë¹Œë“œ
    "build:dev": "ê°œë°œ ë¹Œë“œ ëª…ë ¹ì–´",   // ê°œë°œìš© ë¹Œë“œ
    "start": "ì‹œì‘ ëª…ë ¹ì–´",           // npm startë¡œ ì‹¤í–‰
    "test": "í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´"           // npm testë¡œ ì‹¤í–‰
  }
}
```

### ë²„ì „ ê´€ë¦¬ ê·œì¹™
- **^5.88.0**: 5.88.0 ì´ìƒ 6.0.0 ë¯¸ë§Œ (í˜¸í™˜ì„± ìœ ì§€)
- **~5.88.0**: 5.88.0 ì´ìƒ 5.89.0 ë¯¸ë§Œ (íŒ¨ì¹˜ë§Œ í—ˆìš©)
- **5.88.0**: ì •í™•í•œ ë²„ì „ (ê³ ì •)

### CDN ë°°í¬ ì‹œ ë²„ì „ ê´€ë¦¬
jsDelivr, unpkg ë“± CDNì—ì„œ ë°°í¬í•  ë•ŒëŠ” **package.jsonì˜ `version` í•„ë“œ**ë¥¼ ë”°ë¼ê°‘ë‹ˆë‹¤:

```json
{
  "version": "0.1.0"  // ì´ ë²„ì „ì´ CDN URLì— ì‚¬ìš©ë¨
}
```

#### CDN URL ì˜ˆì‹œ:
- **íŠ¹ì • ë²„ì „**: `https://cdn.jsdelivr.net/npm/í”„ë¡œì íŠ¸ëª…@0.1.0/dist/íŒŒì¼ëª….js`
- **ìµœì‹  ë²„ì „**: `https://cdn.jsdelivr.net/npm/í”„ë¡œì íŠ¸ëª…@latest/dist/íŒŒì¼ëª….js`

#### ë²„ì „ ì—…ë°ì´íŠ¸ ë° ë°°í¬ (ìë™í™”)

**release ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œì¥)**:

##### ë°©ë²•1 
```bash
# íŒ¨ì¹˜ ë²„ì „ (ë²„ê·¸ ìˆ˜ì •: 0.1.0 â†’ 0.1.1)
npm run release -- patch "ë²„ê·¸ ìˆ˜ì •: ë¡œê·¸ì¸ ì—ëŸ¬ í•´ê²°"

# ë§ˆì´ë„ˆ ë²„ì „ (ìƒˆ ê¸°ëŠ¥: 0.1.0 â†’ 0.2.0)
npm run release -- minor "ìƒˆ ê¸°ëŠ¥: ë‹¤í¬ëª¨ë“œ ì§€ì›"

# ë©”ì´ì € ë²„ì „ (Breaking Change: 0.1.0 â†’ 1.0.0)
npm run release -- major "Breaking Change: API êµ¬ì¡° ë³€ê²½"
```

##### ë°©ë²•2
```bash
npm run release:minor
# â†’ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”: [ì—¬ê¸°ì— ì…ë ¥]

npm run release:patch
# â†’ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”: [ì—¬ê¸°ì— ì…ë ¥]

npm run release:major
# â†’ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”: [ì—¬ê¸°ì— ì…ë ¥]
```

**ìë™ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” ì‘ì—…**:
1. âœ… ë²„ì „ ì—…ë°ì´íŠ¸ (package.json)
2. âœ… ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ìƒì„±/ì—…ë°ì´íŠ¸ (dist/release-notes.json)
3. âœ… Git commit & tag ìƒì„±
4. âœ… Webpack ë¹Œë“œ
5. âœ… npm ë°°í¬
6. âœ… Git push (ì»¤ë°‹ + íƒœê·¸)

**ì‚¬ì „ ìš”êµ¬ì‚¬í•­**:
- Git ì €ì¥ì†Œê°€ ì´ˆê¸°í™”ë˜ì–´ ìˆì–´ì•¼ í•¨
- Git working directoryê°€ ê¹¨ë—í•´ì•¼ í•¨ (ì»¤ë°‹ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ ì—†ìŒ)
- npm ë¡œê·¸ì¸ ìƒíƒœì—¬ì•¼ í•¨ (`npm login`)

#### ìˆ˜ë™ ë²„ì „ ì—…ë°ì´íŠ¸ ë°©ë²•:
1. **package.jsonì˜ version ìˆ˜ì •**
2. **Git íƒœê·¸ ìƒì„±**: `git tag v0.1.1`
3. **íƒœê·¸ í‘¸ì‹œ**: `git push origin v0.1.1`
4. **CDNì—ì„œ ìë™ ì¸ì‹**: ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥

## ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
```

### 2. ê°œë°œ ëª¨ë“œ ì‹¤í–‰
```bash
npm run dev
```
- íŒŒì¼ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ì¬ë¹Œë“œë©ë‹ˆë‹¤
- `dist/risu_typewrite.js` íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤

### 3. í”„ë¡œë•ì…˜ ë¹Œë“œ
```bash
npm run build
```

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
cdn-test/
â”œâ”€â”€ dist/                           # ë¹Œë“œ ê²°ê³¼ë¬¼
â”‚   â”œâ”€â”€ @@.js                       # ë²ˆë“¤ íŒŒì¼
â”‚   â””â”€â”€ release-notes.json          # ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸
â”œâ”€â”€ docs/                           # ë¬¸ì„œ
â”‚   â””â”€â”€ how_to_publish.md           # ë°°í¬ ê°€ì´ë“œ
â”œâ”€â”€ scripts/                        # ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ release.js                  # ë¦´ë¦¬ì¦ˆ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ sync-version.js             # ë²„ì „ ë™ê¸°í™”
â”‚   â””â”€â”€ npm-deploy.js               # npm ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ src/                            # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ index.js                    # ë©”ì¸ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”‚   â”œâ”€â”€ constants.js                # ìƒìˆ˜ ì •ì˜
â”‚   â”œâ”€â”€ core/                       # í•µì‹¬ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ risu-api.js             # RisuAPI ë˜í¼
â”‚   â”‚   â”œâ”€â”€ update-manager.js       # ì—…ë°ì´íŠ¸ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ script-updater.js       # ìŠ¤í¬ë¦½íŠ¸ ì—…ë°ì´í„°
â”‚   â”‚   â””â”€â”€ image-storage.js        # ì´ë¯¸ì§€ ì €ì¥ì†Œ (IndexedDB)
â”‚   â”œâ”€â”€ ui/                         # UI ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ styles.js               # CSS ìŠ¤íƒ€ì¼
â”‚   â”‚   â””â”€â”€ components/             # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”œâ”€â”€ main.js             # ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”œâ”€â”€ ui/                 # UI ìš”ì†Œ
â”‚   â”‚       â”‚   â””â”€â”€ menu-button.js  # ë©”ë‰´ ë²„íŠ¼
â”‚   â”‚       â””â”€â”€ updateManager/      # ì—…ë°ì´íŠ¸ ë§¤ë‹ˆì € UI
â”‚   â”‚           â””â”€â”€ um-component.js # ì—…ë°ì´íŠ¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ data/                       # ë°ì´í„°
â”‚   â”‚   â””â”€â”€ img.js                  # ì´ë¯¸ì§€ ë°ì´í„°
â”‚   â””â”€â”€ utils/                      # ìœ í‹¸ë¦¬í‹°
â”‚       â”œâ”€â”€ script-injector.js      # ìŠ¤í¬ë¦½íŠ¸ ì¸ì í„°
â”‚       â””â”€â”€ helpers.js              # í—¬í¼ í•¨ìˆ˜
â”œâ”€â”€ package.json                    # íŒ¨í‚¤ì§€ ì„¤ì •
â”œâ”€â”€ webpack.config.js               # Webpack ì„¤ì •
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ì‹œìŠ¤í…œ

ì´ í”„ë¡œì íŠ¸ëŠ” ìë™ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì—…ë°ì´íŠ¸ ì‹œ ì‚¬ìš©ìì—ê²Œ ë³€ê²½ì‚¬í•­ì„ ìë™ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.

### ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ íƒ€ì…
- `feat` âœ¨: ìƒˆë¡œìš´ ê¸°ëŠ¥ (minor ë²„ì „)
- `fix` ğŸ”§: ë²„ê·¸ ìˆ˜ì • (patch ë²„ì „)
- `perf` âš¡: ì„±ëŠ¥ ê°œì„ 
- `break` âš ï¸: Breaking Change (major ë²„ì „)

### ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ íŒŒì¼ ìœ„ì¹˜
- **dist/release-notes.json**: ëª¨ë“  ë²„ì „ì˜ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ê°€ ì €ì¥ë¨
- npm ë°°í¬ ì‹œ í•¨ê»˜ ë°°í¬ë˜ì–´ ì‚¬ìš©ìì—ê²Œ í‘œì‹œë¨
- unpkg CDNì„ í†µí•´ ìë™ìœ¼ë¡œ ì œê³µë¨

### ì˜ˆì‹œ
```json
{
  "0.2.0": {
    "released_at": "2025-10-24T10:00:00.000Z",
    "mandatory": false,
    "notes": [
      { "type": "feat", "text": "ë‹¤í¬ëª¨ë“œ ì§€ì› ì¶”ê°€" },
      { "type": "fix", "text": "ë¡œê·¸ì¸ ì—ëŸ¬ ìˆ˜ì •" }
    ]
  }
}
```

